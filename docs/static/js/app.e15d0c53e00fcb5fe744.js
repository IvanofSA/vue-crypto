webpackJsonp([1],{"2PN9":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("main",[e("router-view")],1)])},staticRenderFns:[]};var r=n("VU/8")({name:"App"},o,!1,function(t){n("jbBU")},null,null).exports,s=n("NYxO"),i=n("Gu7T"),c=n.n(i),u=n("mtWM"),l=n.n(u),p={namespaced:!0,state:{rates:[],ratesTop:[],endpoint:"https://min-api.cryptocompare.com/data/top/mktcapfull",limit:100,page:2,tsym:"USD"},getters:{getEndpoint:function(t){return t.endpoint},getBase:function(t){return t.base},getRates:function(t){return t.rates},getRatesTop:function(t){return t.ratesTop}},mutations:{refresh:function(t,e){t.ratesTop=e,t.ratesTop.sort(function(t,e){return e.RAW.USD.PRICE-t.RAW.USD.PRICE})},getRates:function(t,e){var n=[].concat(c()(t.rates),c()(e));t.rates=n.filter(function(t){if(t.RAW)return t}),t.rates.sort(function(t,e){return e.RAW.USD.PRICE-t.RAW.USD.PRICE}),t.page=t.page+2}},actions:{REFRESH:function(t){l.a.get(t.state.endpoint,{params:{limit:100,page:0,tsym:t.state.tsym}}).then(function(e){var n=e.data;t.commit("refresh",n.Data)}).catch(function(t){console.log(t)})},GETRATES:function(t,e){l.a.get(t.state.endpoint,{params:{limit:e,page:t.state.page,tsym:t.state.tsym}}).then(function(e){var n=e.data;t.commit("getRates",n.Data)}).catch(function(t){console.log(t)})}}};a.a.use(s.a);var d=new s.a.Store({modules:{global:p},strict:!1}),f=n("/ocq"),m=n("Dd8w"),_={name:"app",created:function(){this.$store.dispatch("global/REFRESH"),setInterval(function(){this.$store.dispatch("global/REFRESH")}.bind(this),12e4)},computed:n.n(m)()({},Object(s.b)({rates:"global/getRates",ratesTop:"global/getRatesTop"})),methods:{scroll:function(){var t=this;window.onscroll=function(){window.scrollY+1>=document.documentElement.scrollHeight-document.documentElement.clientHeight&&t.$store.dispatch("global/GETRATES",100)}}},mounted:function(){this.scroll()}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("Топ 100")]),t._v(" "),t.rates?n("table",{staticClass:"table"},[t._m(0),t._v(" "),n("tbody",[t._l(t.ratesTop,function(e,a){return n("tr",{key:a},[n("td",[t._v(t._s(a+1))]),t._v(" "),n("td",[t._v(t._s(e.CoinInfo.FullName))]),t._v(" "),n("td",[t._v(t._s(e.DISPLAY?e.DISPLAY.USD.PRICE:"none"))])])}),t._v(" "),t._l(t.rates,function(e,a){return n("tr",{key:a},[n("td",[t._v(t._s(a+100))]),t._v(" "),n("td",[t._v(t._s(e.CoinInfo.FullName))]),t._v(" "),n("td",[t._v(t._s(e.DISPLAY?e.DISPLAY.USD.PRICE:"none"))])])})],2)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("№")]),this._v(" "),e("th",[this._v("Full name")]),this._v(" "),e("th",[this._v("Price")])])])}]};var h=n("VU/8")(_,v,!1,function(t){n("2PN9")},null,null).exports;a.a.use(f.a);var g=new f.a({history:!0,routes:[{path:"/",name:"Index",component:h}]});a.a.config.productionTip=!1,new a.a({el:"#app",store:d,router:g,render:function(t){return t(r)}})},jbBU:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e15d0c53e00fcb5fe744.js.map